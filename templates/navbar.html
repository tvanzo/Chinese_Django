{% load static %}

<style>
    /* Styles specific to the navbar */
    .navbar-main {
        background-color: #ffffff;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
    }

    .breadcrumb-item a {
        color: #6c757d;
    }

    .breadcrumb-item.active {
        color: #343a40;
    }

    .nav-link-text {
        font-size: 14px;
    }

    #unique-xp-display {
        background-color: #d00c9c; /* Purple color */
        color: white; /* White text */
        padding: 3px 8px; /* Adjust padding to make it smaller */
        border-radius: 8px; /* Increased border radius to make corners more rounded */
    }

    .unique-xp-circle {
        background-color: #ffc40c; /* Yellow color */
        color: white;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 5px; /* Adjust margin as needed */
    }

    #unique-xp-points {
        font-weight: bold;
        font-size: 14px; /* Adjust font size as needed */
    }

    .btn-purple {
        background-color: #d00c9c;
        color: #ffffff;
        border-color: #6f42c1;
    }

    .compact-btn {
        padding: 0.25rem 0.5rem; /* Less padding for a more compact button */
    }

    .nav-link.active .icon svg {
        fill: #FFD700 !important;
        color: #FFD700 !important;
    }

    /* SVG icon tooltip */
    .nav-item .ms-2[data-bs-toggle="tooltip"] svg {
        transition: all 0.3s ease;
    }

    .nav-item .ms-2[data-bs-toggle="tooltip"]:hover svg {
        transform: scale(1.1);
    }
</style>

<nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl" id="navbarBlur" navbar-scroll="true">
  <div class="container-fluid py-1 px-3">

    <nav aria-label="breadcrumb">
      <ol class="breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5">
        <li class="breadcrumb-item text-sm"><a class="opacity-5 text-dark" href="javascript:;">Pages</a></li>
        <li class="breadcrumb-item text-sm text-dark active" aria-current="page">{% block page_title %}Dashboard{% endblock %}</li>
      </ol>
      <h6 class="font-weight-bolder mb-0">{% block page_heading %}Dashboard{% endblock %}</h6>
    </nav>

    <nav id="top-nav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="{% url 'media_list' %}">
            <span class="nav-link-text ms-1">Search</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'user_videos' %}">
            <span class="nav-link-text ms-1">My Library</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'highlights' %}">
            <span class="nav-link-text ms-1">Highlights</span>
          </a>
        </li>
      </ul>
    </nav>

    <div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
      <ul class="navbar-nav ms-auto d-flex align-items-center">
        <li class="nav-item d-flex align-items-center">
          <div class="btn btn-purple btn-sm mb-0 d-flex align-items-center compact-btn" id="unique-xp-display">
            <div class="unique-xp-circle d-flex align-items-center justify-content-center me-2">XP</div>
            <span id="unique-xp-points">{{ total_points }}</span>
          </div>
        </li>

        <li class="nav-item d-flex align-items-center">
          <div class="ms-2" style="position: relative; top: -2px;" data-bs-toggle="tooltip" data-bs-placement="bottom"
               title="{% if user.subscriptions.first.tier == 'PREMIUM' %}Premium Subscription{% else %}Free Subscription{% endif %}">
            <svg width="20px" height="20px" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"
                 stroke="{% if user.subscriptions.first.tier == 'PREMIUM' %}#ffc40c{% else %}#808080{% endif %}"
                 stroke-width="1.064">
              <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
              <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"
                 stroke="{% if user.subscriptions.first.tier == 'PREMIUM' %}#ffc40c{% else %}#808080{% endif %}"
                 stroke-width="0.784">
                <!-- SVG path for the icon -->
              </g>
              <g id="SVGRepo_iconCarrier">
                <!-- SVG path for the icon -->
              </g>
            </svg>
          </div>
        </li>
        <li class="nav-item d-flex align-items-center">
          <a href="{% url 'logout' %}" class="ms-2" style="position: relative; top: -2px;">
            <!-- Logout SVG here -->
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>