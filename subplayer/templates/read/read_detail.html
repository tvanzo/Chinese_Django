{% load static %}

{% block content %}
<div class="container-fluid py-4">
  <a href="{% url 'read_list' %}" class="text-sm text-primary text-decoration-none">
    ← Back to articles
  </a>

  <h4 class="mt-3 mb-3">{{ article.title }}</h4>

  {% if article.source_url %}
    <a href="{{ article.source_url }}" target="_blank" class="text-sm text-muted">
      Open original page ↗
    </a>
  {% endif %}

  <hr class="my-4">

  <h5>
    Your Highlights
    {% if highlights %}
      <span class="badge bg-primary rounded-pill">{{ highlights|length }}</span>
    {% endif %}
  </h5>

  {% if highlights %}
    {% for h in highlights %}
      <div class="mb-4 p-3 bg-light rounded border-start border-warning border-4">
        <p class="mb-1 fw-medium">{{ h.highlighted_text }}</p>
        <small class="text-muted">{{ h.created_at|date:"M d, Y g:i A" }}</small>
      </div>
    {% endfor %}
  {% else %}
    <p class="text-muted">No highlights yet for this page.</p>
  {% endif %}
</div>
{% endblock %}